<html>
	<head>
		<script src="http://code.jquery.com/jquery-3.2.1.js"></script>
		<script>
			var counter=new Array();
			function convert()
			{
				var domCode="";
				var domObj=$($("#htmlCode").val());
				
				for (var i=0;i<domObj.length;i++)
				{	
					domCode+=findChild(domObj[i],null);
				}
				$("#domCode").html(domCode);						
			}
			function findChild(domObj,parentTagVariable)
			{
				var result="";
				var tagName=$(domObj).prop("tagName");
				if (tagName!=null)
				{
					var tagVariable=tagName.toLowerCase();
					if (counter[tagName]==null)
					{
						counter[tagName]=1
					}
					else
					{
						counter[tagName]++;
					}
					tagVariable+=counter[tagName];
					result+="var "+tagVariable+"=document.createElement(\""+tagName+"\");\n";
					$(domObj).each(function()
									{
										$.each(this.attributes, function() {
											if(this.specified) 
											{
												switch(this.name.toLowerCase())
												{
													case "class":
														result+=tagVariable+".className=\""+this.value+"\";\n";
														break;
													case "required":
														switch (tagName)
														{
															case "INPUT":
															case "SELECT":
															case "TEXTAREA":
																	result+=tagVariable+".required=true;\n";
															break;
														}
														break;
													case "disabled":
														switch (tagName)
														{
															case "INPUT":
															case "BUTTON":
															case "SELECT":
															case "OPTION":
															case "FIELDSET":
															case "OPTGROUP":
															case "TEXTAREA":
																	result+=tagVariable+".disabled=true;\n";
														}
														break;
													
													case "readonly":
														switch (tagName)
														{
															case "INPUT":
															case "TEXTAREA":
																result+=tagVariable+".readOnly=true;\n";
														}
														break;
													case "multiple":
														switch (tagName)
														{
															case "INPUT":
															case "SELECT":
																	result+=tagVariable+".required=true;\n";
															break;
														}
														break;	
													case "selected":
														switch (tagName)
														{
															case "OPTION":
																result+=tagVariable+".selected=true;\n";
														}
														break;
													case "checked":
														switch (tagName)
														{
															case "INPUT":
																result+=tagVariable+".checked=true;\n";
														}
														break;	
													default:result+=tagVariable+"."+this.name+"=\""+ this.value+"\";\n";
															break;
												}
											}
										});
									});
					if (parentTagVariable!=null)
						result+=parentTagVariable+".appendChild("+tagVariable+");\n";
					//console.log($(domObj).prop("tagName"),$(domObj).text());	
					if ($(domObj).children().length>0)
					{	
						$(domObj).children().each(function()
													{
														result+=findChild(this,tagVariable);
													});
						counter[tagName]--;						
					}
					else
					{
						if ($(domObj).text()!="")
							result+=tagVariable+".textContent=\""+$(domObj).text()+"\";\n";
					}
				}					
				return result;								
			}
		</script>
	</head>
	<body>
		<table width="100%" height="100%" border=1>
			<tr>
				<td width=50%>
					<textarea id="htmlCode" style="width:100%;height:100%">
					
		<div id="functionList" >
			<a href="javascript:w3_close()" title="Close Sidemenu" class="w3-bar-item w3-button w3-hide-large w3-large">
				Close <i class="fa fa-remove"></i>
			</a>
			<a class="w3-bar-item w3-button functionListItem" onclick="showHideChild(this)">
				FTP Server Administration
				<i class="fa fa-caret-down w3-margin-left"></i>
			</a>
			<div class="w3-hide w3-animate-left">	
				<a class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey" onclick="vv()">
					<div class="w3-container"><span class="w3-opacity w3-large">List Server</span></div>
				</a>
				<a class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey">
					<div class="w3-container">
						<span class="w3-opacity w3-large">Add Server </span>
						<i class="w3-padding fa fa-pencil"></i>
					</div>
				</a>
				<a class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey">
					<div class="w3-container">
						<span class="w3-opacity w3-large">Remove Server </span>
						<i class="w3-padding fa fa-pencil"></i>	
					</div>	
				</a>				
			</div>
			<a class="w3-bar-item w3-button functionListItem" onclick="showHideChild(this)">
				Administration Server Setting
				<i class="fa fa-caret-down w3-margin-left"></i>
			</a>
			<div class="w3-hide w3-animate-left">	
				<a class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey" onclick="gg()">
					<div class="w3-container">
						<span class="w3-opacity w3-large">Change Admin user and password </span>
						<i class="w3-padding fa fa-pencil"></i>
					</div>	
				</a>				
			</div>
			<a href="#" class="w3-bar-item w3-button">Logout</a>
		</div>					
						
					</textarea>
				</td>
				<td width=50%>		
					<textarea id="domCode" style="width:100%;height:100%">
					</textarea>
				</td>
			</tr>
			<tr>
				<td colspan=2>
					<button onclick="convert()">Convert</button>
				</td>	
		</table>	
	</body>
</html>	